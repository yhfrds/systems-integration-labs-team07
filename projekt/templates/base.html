<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>Bikes and Strikes</title>

  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

  <style>
    body { font-family: Arial, sans-serif; max-width: 900px; margin: 20px auto; }
    header { display:flex; justify-content:space-between; align-items:center; }
    nav a { margin-right: 10px; }
    .flash { background:#ffd; padding:8px; margin:8px 0; border:1px solid #cca; }
    table { width:100%; border-collapse: collapse; margin-top:12px; }
    table th, table td { border:1px solid #ddd; padding:8px; }
  </style>
</head>
<body>
  <header>
    <div><h1><a href="{{ url_for('index') }}">Simple Web Shop</a></h1></div>
    <nav>
      <a href="{{ url_for('index') }}">Products</a>
      <a href="{{ url_for('product_new') }}">Add Product</a>
      <a href="{{ url_for('cart_view') }}">Cart ({{ session.get('cart')|length if session.get('cart') else 0 }})</a>
      {% if current_user.is_authenticated %}
        <a href="{{ url_for('orders') }}">My Orders</a>
        <a href="{{ url_for('profile') }}">Profile</a>
        <a href="{{ url_for('logout') }}">Logout</a>
      {% else %}
        <a href="{{ url_for('register') }}">Register</a>
        <a href="{{ url_for('login') }}">Login</a>
      {% endif %}
    </nav>
  </header>

  {% with messages = get_flashed_messages() %}
    {% if messages %}
      {% for m in messages %}
        <div class="flash">{{ m }}</div>
      {% endfor %}
    {% endif %}
  {% endwith %}

  {% block content %}{% endblock %}
  <footer style="margin-top: 30px; font-size:90%; color:#666">
    <hr/>
    <p>Lab demo web shop</p>
  </footer>
</body>
</html>
